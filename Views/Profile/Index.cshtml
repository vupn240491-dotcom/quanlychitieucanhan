@model ExpenseTracker.Models.ApplicationUser
@{
    ViewData["Title"] = "Th√¥ng tin c√° nh√¢n";
}

<div class="space-y-6">
    <!-- Header -->
    <div class="bg-gradient-to-r from-green-600 to-teal-600 rounded-2xl shadow-xl text-white p-8">
        <h1 class="text-3xl font-bold mb-2">Th√¥ng tin c√° nh√¢n</h1>
        <p class="text-green-100 text-lg">Qu·∫£n l√Ω t√†i kho·∫£n v√† th·ªëng k√™ s·ª≠ d·ª•ng</p>
    </div>

    @if (ViewBag.Success != null)
    {
        <div class="bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-lg">
            @ViewBag.Success
        </div>
    }

    @if (ViewBag.Error != null)
    {
        <div class="bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg">
            @ViewBag.Error
        </div>
    }

    <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
        <!-- User Info -->
        <div class="lg:col-span-2 space-y-6">
            <!-- Profile Information -->
            <div class="bg-white rounded-xl shadow-lg border border-gray-200 p-6">
                <h3 class="text-lg font-semibold text-gray-900 mb-4">Th√¥ng tin t√†i kho·∫£n</h3>
                <form method="post" action="@Url.Action("UpdateProfile")" class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700">H·ªç t√™n</label>
                        <input type="text" name="name" value="@Model.Name" required 
                               class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700">Email</label>
                        <input type="email" name="email" value="@Model.Email" required 
                               class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700">Ng√†y t·∫°o t√†i kho·∫£n</label>
                        <input type="text" value="@Model.CreatedAt.ToString("dd/MM/yyyy HH:mm")" readonly 
                               class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm bg-gray-50 text-gray-500">
                    </div>
                    <button type="submit" 
                            class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium">
                        C·∫≠p nh·∫≠t th√¥ng tin
                    </button>
                </form>
            </div>

            <!-- Change Password -->
            <div class="bg-white rounded-xl shadow-lg border border-gray-200 p-6">
                <h3 class="text-lg font-semibold text-gray-900 mb-4">ƒê·ªïi m·∫≠t kh·∫©u</h3>
                <form method="post" action="@Url.Action("ChangePassword")" class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700">M·∫≠t kh·∫©u hi·ªán t·∫°i</label>
                        <input type="password" name="currentPassword" required 
                               class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700">M·∫≠t kh·∫©u m·ªõi</label>
                        <input type="password" name="newPassword" required minlength="6"
                               class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500">
                    </div>
                    <button type="submit" 
                            class="bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg font-medium">
                        ƒê·ªïi m·∫≠t kh·∫©u
                    </button>
                </form>
            </div>
        </div>

        <!-- Statistics -->
        <div class="space-y-6">
            <!-- Usage Stats -->
            <div class="bg-white rounded-xl shadow-lg border border-gray-200 p-6">
                <h3 class="text-lg font-semibold text-gray-900 mb-4">Th·ªëng k√™ s·ª≠ d·ª•ng</h3>
                <div class="space-y-4">
                    <div class="flex items-center justify-between">
                        <div class="flex items-center space-x-2">
                            <span class="text-blue-600">üí∞</span>
                            <span class="text-sm text-gray-600">T·ªïng chi ti√™u</span>
                        </div>
                        <span class="font-semibold text-gray-900">@ViewBag.TotalExpenses.ToString("C0", new System.Globalization.CultureInfo("vi-VN"))</span>
                    </div>
                    
                    <div class="flex items-center justify-between">
                        <div class="flex items-center space-x-2">
                            <span class="text-green-600">üìä</span>
                            <span class="text-sm text-gray-600">S·ªë giao d·ªãch</span>
                        </div>
                        <span class="font-semibold text-gray-900">@ViewBag.TotalTransactions</span>
                    </div>
                    
                    <div class="flex items-center justify-between">
                        <div class="flex items-center space-x-2">
                            <span class="text-purple-600">üéØ</span>
                            <span class="text-sm text-gray-600">S·ªë danh m·ª•c</span>
                        </div>
                        <span class="font-semibold text-gray-900">@ViewBag.CategoriesCount</span>
                    </div>
                    
                    <div class="flex items-center justify-between">
                        <div class="flex items-center space-x-2">
                            <span class="text-orange-600">üìÖ</span>
                            <span class="text-sm text-gray-600">Ng√†y s·ª≠ d·ª•ng</span>
                        </div>
                        <span class="font-semibold text-gray-900">@ViewBag.DaysUsing ng√†y</span>
                    </div>
                    
                    @if (ViewBag.FirstExpenseDate != default(DateTime))
                    {
                        <div class="flex items-center justify-between">
                            <div class="flex items-center space-x-2">
                                <span class="text-pink-600">üéâ</span>
                                <span class="text-sm text-gray-600">Giao d·ªãch ƒë·∫ßu ti√™n</span>
                            </div>
                            <span class="font-semibold text-gray-900">@ViewBag.FirstExpenseDate.ToString("dd/MM/yyyy")</span>
                        </div>
                    }
                </div>
            </div>

            <!-- Quick Actions -->
            <div class="bg-white rounded-xl shadow-lg border border-gray-200 p-6">
                <h3 class="text-lg font-semibold text-gray-900 mb-4">H√†nh ƒë·ªông nhanh</h3>
                <div class="space-y-3">
                    <a href="@Url.Action("Index", "Dashboard")" 
                       class="block w-full text-center bg-blue-50 hover:bg-blue-100 text-blue-700 py-2 px-4 rounded-lg transition-colors">
                        V·ªÅ trang ch·ªß
                    </a>
                    <a href="@Url.Action("Index", "Expenses")" 
                       class="block w-full text-center bg-green-50 hover:bg-green-100 text-green-700 py-2 px-4 rounded-lg transition-colors">
                        Th√™m chi ti√™u
                    </a>
                    <a href="@Url.Action("Index", "Reports")" 
                       class="block w-full text-center bg-purple-50 hover:bg-purple-100 text-purple-700 py-2 px-4 rounded-lg transition-colors">
                        Xem b√°o c√°o
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>